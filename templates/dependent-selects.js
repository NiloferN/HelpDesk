var handle_dependent_selects=function($Mname){var $cate=document.getElementById($Mname.getAttribute('data-cate-id')),$selected=$Mname.options[$Mname.selectedIndex],Mname_val=$selected.value;for(var i=0;i<$cate.options.length;i++){var $option=$cate.options[i];if($option.value!=''){$option.setAttribute('hidden',true);}};if(Mname_val){var cate_options=$selected.getAttribute('data-cate-options'),cate_options_array=cate_options.split('|#');for(i=0;i<$cate.options.length;i++){var $option=$cate.options[i];if($option.value==""){$option.innerText="--------";continue;}
if(cate_options_array.indexOf($option.value)!=-1){$option.removeAttribute('hidden');}};}else{var show_text=$cate.getAttribute('data-text-if-Mname-empty');if(!show_text){show_text='Select '+$Mname.name;}
for(i=0;i<$cate.options.length;i++){var $option=$cate.options[$cate.selectedIndex];if($option.value==""){$option.innerText='- '+show_text+' -';break;}};}}
document.addEventListener('DOMContentLoaded',function(){var $Mname=document.getElementsByClassName('dependent-selects__Mname');for(var i=0;i<$Mname.length;i++){handle_dependent_selects($Mname[i]);$Mname[i].addEventListener('change',function(){handle_dependent_selects(this)})}},false);